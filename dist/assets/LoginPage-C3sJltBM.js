import{_ as S,a as i,b as t,f as e,t as F,e as D,k as T,n as R,l as P,m as B,r as n,c as L,g as w,u as l,w as z,p as C,q as O,s as H,v as G,x as J,h as A,F as K,d as Q,j as W}from"./index-BSfxMGEu.js";import{c as u,e as U,m as q,u as I,I as y,r as M,s as X}from"./index-CIJSupKg.js";const Y={class:"front"},ee={class:"back"},se={__name:"ButtonFlip",props:{frontText:{type:String,required:!0},backText:{type:String,required:!0},isFlipped:{type:Boolean,required:!0}},setup(a){return(m,d)=>(t(),i("button",{class:D(["btn-flip",{rotated:a.isFlipped}])},[e("span",Y,F(a.frontText),1),e("span",ee,F(a.backText),1)],2))}},le=S(se,[["__scopeId","data-v-d1e1d3dc"]]),te={class:"front"},ae={key:1},oe={class:"back"},re={key:1},ie={__name:"CardFlipComponent",props:{isFlipped:{type:Boolean,required:!0},frontSlot:{type:[Object,String],required:!1},backSlot:{type:[Object,String],required:!1},width:{type:String,required:!1,default:"300px"},height:{type:String,required:!1,default:"300px"},perspective:{type:String,required:!1,default:"1000px"},marginTop:{type:String,required:!1,default:"0px"}},setup(a){return(m,d)=>(t(),i("div",{class:D(["card",{rotated:a.isFlipped}]),style:R({width:a.width,height:a.height,perspective:a.perspective,marginTop:a.marginTop})},[e("div",te,[T(m.$slots,"default",{},()=>[typeof a.frontSlot=="object"?(t(),P(B(a.frontSlot),{key:0})):(t(),i("span",ae,F(a.frontSlot),1))])]),e("div",oe,[T(m.$slots,"backSlot",{},()=>[typeof a.backSlot=="object"?(t(),P(B(a.backSlot),{key:0})):(t(),i("span",re,F(a.backSlot),1))])])],6))}},ne=S(ie,[["__scopeId","data-v-5a8f3dba"]]),de={class:"form-body"},ue={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},pe={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-slash",viewBox:"0 0 16 16"},me={__name:"FormLogin",setup(a){const m=n(""),d=n("password"),g=n(!1),v=n(""),f=n(""),b=L(()=>({loginField:{minLength:u.withMessage("Логин должен быть не менее 3 символов",q(3))},passwordField:{minLength:u.withMessage("Пароль должен быть не менее 3 символов",q(6))},emailField:{email:u.withMessage("Введите корректный email",U)}})),p=I(b,{loginField:m,passwordField:v,emailField:f});function x(){if(p.value.$touch(),!p.value.$invalid){const k={login:m.value,password:v.value,email:f.value};console.log("success",k),m.value="",v.value="",f.value=""}d.value="password",g.value=!1}const $=()=>{d.value=d.value==="text"?"password":"text",g.value=!g.value,console.log(g.value)};return(k,o)=>(t(),i("form",{action:"#",id:"form-login",class:"form-login fs-sm",onSubmit:C(x,["prevent"])},[o[5]||(o[5]=e("div",{class:"form-header"},[e("h3",{class:"form-title"},"Авторизация")],-1)),e("div",de,[w(y,{width:"100%",type:"text",label:"Логин",name:"userName",placeholder:"Введите логин",value:l(p).loginField.$model,"onUpdate:value":o[0]||(o[0]=h=>l(p).loginField.$model=h),error:l(p).loginField.$errors,classDiv:"form-input"},null,8,["value","error"]),w(y,{width:"100%",type:d.value,label:"Password",name:"userPassword",placeholder:"Введите пароль",value:l(p).passwordField.$model,"onUpdate:value":o[1]||(o[1]=h=>l(p).passwordField.$model=h),error:l(p).passwordField.$errors,classDiv:"form-input"},{default:z(()=>[e("div",{class:"type-toggler",onClick:C($,["stop"])},[g.value?(t(),i("svg",pe,o[4]||(o[4]=[e("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),e("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"},null,-1),e("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"},null,-1)]))):(t(),i("svg",ue,o[3]||(o[3]=[e("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),e("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1)])))])]),_:1},8,["type","value","error"]),w(y,{width:"100%",type:"email",label:"Email",name:"userEmail",placeholder:"Введите email",value:l(p).emailField.$model,"onUpdate:value":o[2]||(o[2]=h=>l(p).emailField.$model=h),error:l(p).emailField.$errors,classDiv:"form-input"},null,8,["value","error"])]),o[6]||(o[6]=e("div",{class:"form-footer"},[e("button",{type:"submit",class:"btn-submit fs-md"},"Submit")],-1))],32))}},ce=S(me,[["__scopeId","data-v-1f62843e"]]),ge={key:0,class:"success-message"},ve={class:"form-body"},fe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},we={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-slash",viewBox:"0 0 16 16"},he={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},ye={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-slash",viewBox:"0 0 16 16"},be={class:"form-input-check"},$e={class:"privacy-links"},Ce={class:"form-footer"},xe=["disabled"],ke={key:0,class:"loader"},Me={key:1},Fe={__name:"FormRegister",setup(a){const m=O(),d=n("password"),g=n("password"),v=n(!1),f=n(!1),b=n(!1),p=n(!1),x=n(""),$=n(""),k=n(""),o=n(""),h=n(!1),j=L(()=>({loginReg:{minLength:u.withMessage("Логин должен быть не менее 3 символов",q(3)),required:u.withMessage("Логин обязателен",M),validChars:u.withMessage("Логин может содержать только буквы, цифры и _",u.regex(/^[a-zA-Z0-9_]+$/))},passwordReg:{minLength:u.withMessage("Пароль должен быть не менее 6 символов",q(6)),required:u.withMessage("Пароль обязателен",M),strongPassword:u.withMessage("Пароль должен содержать хотя бы одну заглавную букву, цифру и специальный символ",u.regex(/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/))},passwordRegConfirm:{sameAsPasswordReg:u.withMessage("Пароли должны совпадать",X($.value)),required:u.withMessage("Повторите пароль",M)},emailReg:{email:u.withMessage("Введите корректный email",U),required:u.withMessage("Почта обязательна",M)},agree:{required:u.withMessage("Согласие обязательно",M)}})),r=I(j,{loginReg:x,passwordReg:$,passwordRegConfirm:k,emailReg:o,agree:h});function V(){v.value=!v.value,d.value=d.value==="text"?"password":"text"}function N(){f.value=!f.value,g.value=g.value==="text"?"password":"text"}async function E(){if(r.value.$touch(),!r.value.$invalid)try{b.value=!0;const _={login:x.value,password:$.value,email:o.value};await new Promise(s=>setTimeout(s,1e3)),console.log("success",_),Z(),p.value=!0,setTimeout(()=>{p.value=!1},3e3)}catch(_){console.error("Ошибка при регистрации:",_)}finally{b.value=!1}}function Z(){x.value="",$.value="",k.value="",o.value="",h.value=!1,f.value=!1,v.value=!1,d.value="password",g.value="password",r.value.$reset()}return(_,s)=>(t(),i("form",{action:"#",id:"form-reg",class:"form-login fs-sm",onSubmit:C(E,["prevent"])},[s[15]||(s[15]=e("div",{class:"form-header"},null,-1)),p.value?(t(),i("div",ge," Регистрация успешно завершена! ")):H("",!0),e("div",ve,[w(y,{width:"100%",type:"text",label:"Логин",name:"login",placeholder:"Введите логин",value:l(r).loginReg.$model,"onUpdate:value":s[0]||(s[0]=c=>l(r).loginReg.$model=c),error:l(r).loginReg.$errors,classDiv:"form-input"},null,8,["value","error"]),w(y,{width:"100%",type:"email",label:"Email",name:"email",placeholder:"Введите email",value:l(r).emailReg.$model,"onUpdate:value":s[1]||(s[1]=c=>l(r).emailReg.$model=c),error:l(r).emailReg.$errors,classDiv:"form-input"},null,8,["value","error"]),w(y,{width:"100%",type:d.value,label:"Пароль",name:"password",placeholder:"Введите пароль",value:l(r).passwordReg.$model,"onUpdate:value":s[2]||(s[2]=c=>l(r).passwordReg.$model=c),error:l(r).passwordReg.$errors,classDiv:"form-input"},{default:z(()=>[e("div",{class:"type-toggler",onClick:C(V,["stop"])},[v.value?(t(),i("svg",we,s[7]||(s[7]=[e("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),e("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"},null,-1),e("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"},null,-1)]))):(t(),i("svg",fe,s[6]||(s[6]=[e("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),e("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1)])))])]),_:1},8,["type","value","error"]),w(y,{width:"100%",type:g.value,label:"Повторите пароль",name:"confirmPassword",placeholder:"Введите пароль еще раз",value:l(r).passwordRegConfirm.$model,"onUpdate:value":s[3]||(s[3]=c=>l(r).passwordRegConfirm.$model=c),error:l(r).passwordRegConfirm.$errors,classDiv:"form-input"},{default:z(()=>[e("div",{class:"type-toggler",onClick:C(N,["stop"])},[f.value?(t(),i("svg",ye,s[9]||(s[9]=[e("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),e("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"},null,-1),e("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"},null,-1)]))):(t(),i("svg",he,s[8]||(s[8]=[e("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),e("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1)])))])]),_:1},8,["type","value","error"]),e("div",be,[G(e("input",{class:"form-input-check__input",type:"checkbox",id:"agree","onUpdate:modelValue":s[4]||(s[4]=c=>l(r).agree.$model=c)},null,512),[[J,l(r).agree.$model]]),s[14]||(s[14]=e("label",{for:"agree",class:"checkbox-label"}," Согласие на обработку персональных данных ",-1)),e("div",$e,[s[10]||(s[10]=A(" Вы подтверждаете, что ознакомились и согласны с ")),e("strong",{onClick:s[5]||(s[5]=c=>l(m).push("/privacy-policy")),class:"privacy-link"},"политикой конфиденциальности"),s[11]||(s[11]=A(" и ")),s[12]||(s[12]=e("strong",null," условиями использования ",-1)),s[13]||(s[13]=A(" сайта. "))]),(t(!0),i(K,null,Q(l(r).agree.$errors,c=>(t(),i("div",{key:c.$uid,class:"form-error"},F(c.$message),1))),128))])]),e("div",Ce,[e("button",{type:"submit",class:"btn-submit",disabled:b.value},[b.value?(t(),i("span",ke)):(t(),i("span",Me,"Зарегистрироваться"))],8,xe)])],32))}},Se=S(Fe,[["__scopeId","data-v-d024c9b4"]]),_e={class:"container"},qe={__name:"LoginPage",setup(a){const m=W("headerHeight"),d=n(!1),g=()=>{d.value=!d.value};return(v,f)=>(t(),i("div",{class:"page",style:R({height:`calc(100vh - ${l(m)}px)`,marginTop:`${l(m)}px`})},[e("div",_e,[e("div",{class:"card-3d fs-sm",style:R({marginTop:`${-l(m)*6}px`})},[w(le,{isFlipped:d.value,"front-text":"Авторизация","back-text":"Регистрация",onClick:C(g,["stop"])},null,8,["isFlipped"]),w(ne,{isFlipped:d.value,frontSlot:Se,backSlot:ce,width:"100%","margin-top":"1rem"},null,8,["isFlipped"])],4)])],4))}},ze=S(qe,[["__scopeId","data-v-47dc80ae"]]);export{ze as default};
